---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/sections/Header.astro";
import Footer from "../components/sections/Footer.astro";

// Sections
import HeroSection from "../components/sections/HeroSection.astro";
import SkillsSection from "../components/sections/SkillsSection.astro";
import WorkExperience from "../components/sections/WorkExperience.astro";
import Studies from "../components/sections/Studies.astro";
import ProjectsSection from "../components/sections/Projects.astro";

// shadcn/ui components
import { Badge } from "../components/ui/badge";
import { Button } from "../components/ui/button";
import { Card, CardContent } from "../components/ui/card";

// Astro UI components (no shadcn equivalent)
import FeaturedPost from "../components/ui/card/FeaturedPost.astro";
import PostCard from "../components/ui/card/PostCard.astro";
import Carousel from "../components/ui/carousel/Carousel.astro";
import PostMeta from "../components/ui/meta/PostMeta.astro";
import PostNav from "../components/ui/nav/PostNav.astro";
import BlogPagination from "../components/ui/nav/BlogPagination.astro";
import ArrowSeparator from "../components/ui/separator/ArrowSeparator.astro";
import GlowLineSeparator from "../components/ui/separator/GlowLineSeparator.astro";
import ShareButtons from "../components/ui/share/ShareButtons.astro";
import Timeline from "../components/ui/timeline/Timeline.astro";

// Data
import { logos } from "../data/logos";
import { skills } from "../data/skills";
import { work, workIcons } from "../data/work";
import { studies } from "../data/studies";

// Content
import { getCollection } from 'astro:content';
const pageTitle = "Component & Sections Demo";
const pageDescription = "Showcase of components and sections with light/dark theming.";
const posts = await getCollection('blog');
const [firstPost, secondPost, thirdPost] = posts.slice(0, 3);
---

<html lang="en" data-theme="dark" class="dark">
  <head>
    <BaseHead title={pageTitle} description={pageDescription} />
  </head>
  <body class="bg-background text-foreground">
    <Header />
    <main class="mx-auto max-w-6xl px-6 py-10 space-y-10">
      <section class="space-y-4">
        <h1 class="text-4xl font-normal text-foreground">{pageTitle}</h1>
        <p class="text-lg text-muted-foreground">{pageDescription}</p>
      </section>

      <!-- HeroSection -->
      <Card className="overflow-hidden">
        <CardContent className="p-6 space-y-4">
          <h2 class="text-2xl font-medium text-foreground">HeroSection</h2>
          <HeroSection
            title="Your Headline Goes Here!"
            subtitle="I build softwares that brings you loyal subscribers."
            showCTA
            primaryCTA={{ text: 'View Projects', href: '/portfolio' }}
            secondaryCTA={{ text: 'Read Blog', href: '/blog' }}
          />
        </CardContent>
      </Card>

      <!-- Badges & Buttons -->
      <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Card>
          <CardContent className="p-6 space-y-4">
            <h2 class="text-2xl font-medium text-foreground">Badges (shadcn)</h2>
            <div class="flex flex-wrap gap-2">
              <Badge>Default</Badge>
              <Badge variant="secondary">Secondary</Badge>
              <Badge variant="destructive">Destructive</Badge>
              <Badge variant="outline">Outline</Badge>
            </div>
          </CardContent>
        </Card>
        <Card>
          <CardContent className="p-6 space-y-4">
            <h2 class="text-2xl font-medium text-foreground">Buttons (shadcn)</h2>
            <div class="flex flex-wrap gap-3">
              <Button>Default</Button>
              <Button variant="secondary">Secondary</Button>
              <Button variant="ghost">Ghost</Button>
              <Button variant="outline">Outline</Button>
              <Button variant="destructive">Destructive</Button>
            </div>
          </CardContent>
        </Card>
      </section>

      <!-- Separators -->
      <Card>
        <CardContent className="p-6 space-y-4">
          <h2 class="text-2xl font-medium text-foreground">Separators</h2>
          <ArrowSeparator />
          <GlowLineSeparator />
        </CardContent>
      </Card>

      <!-- Card -->
      <Card>
        <CardContent className="p-6 space-y-4">
          <h2 class="text-2xl font-medium text-foreground">Card (shadcn)</h2>
          <Card>
            <CardContent className="p-4 space-y-2">
              <h3 class="text-xl font-medium text-foreground">Surface card</h3>
              <p class="text-muted-foreground">Uses shadcn/ui Card component with Tailwind classes.</p>
            </CardContent>
          </Card>
        </CardContent>
      </Card>

      <!-- Carousel -->
      <Card>
        <CardContent className="p-6 space-y-4">
          <h2 class="text-2xl font-medium text-foreground">Carousel</h2>
          <Carousel tools={logos} />
        </CardContent>
      </Card>

      <!-- Timeline -->
      <Card>
        <CardContent className="p-6 space-y-4">
          <h2 class="text-2xl font-medium text-foreground">Timeline</h2>
          <Timeline items={work} icons={workIcons} centered={false} />
        </CardContent>
      </Card>

      <!-- Post components using content collection -->
      {firstPost && (
        <Card>
          <CardContent className="p-6 space-y-4">
            <h2 class="text-2xl font-medium text-foreground">FeaturedPost</h2>
            <FeaturedPost post={firstPost} readingTimeMin={4} />
          </CardContent>
        </Card>
      )}

      {(secondPost || thirdPost) && (
        <Card>
          <CardContent className="p-6 space-y-6">
            <h2 class="text-2xl font-medium text-foreground">PostCard</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              {secondPost && <PostCard post={secondPost} />}
              {thirdPost && <PostCard post={thirdPost} />}
            </div>
          </CardContent>
        </Card>
      )}

      {firstPost && (
        <Card>
          <CardContent className="p-6 space-y-6">
            <h2 class="text-2xl font-medium text-foreground">Post Meta, Nav, Share</h2>
            <PostMeta pubDate={firstPost.data.pubDate} readingTimeMin={5} authorName={firstPost.data.author} />
            <PostNav prev={secondPost && { id: secondPost.id, title: secondPost.data.title }} next={thirdPost && { id: thirdPost.id, title: thirdPost.data.title }} />
            <ShareButtons title={firstPost.data.title} url={Astro.url.toString()} />
            <BlogPagination currentPage={2} totalPages={5} />
          </CardContent>
        </Card>
      )}

      <!-- Sections: Skills, Work, Studies, Projects -->
      <section class="space-y-6">
        <SkillsSection title="Skills & Tools" skills={skills} />
        <WorkExperience title="Work Experience" items={work} />
        <Studies title="Studies" items={studies} />
        <ProjectsSection title="Projects" />
      </section>
    </main>
    <Footer />
  </body>
</html>


